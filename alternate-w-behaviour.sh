#!/bin/sh
# Generated by patch2vi from unified diff
# Separator: '@'
set -e

# Path to nextvi (adjust as needed)
VI=${VI:-vi}

# Verify that VI is nextvi
if ! $VI -? 2>&1 | grep -q 'Nextvi'; then
    echo "Error: $VI is not nextvi" >&2
    echo "Set VI environment variable to point to nextvi" >&2
    exit 1
fi

# Patch: vi.c
EXINIT="rcm:|sc! @|vis 6@662;30;41c dir
.
@vis 4@vis 6@659a 		if (vc && cnt == 1)
			dir = 2;
		else
			dir = vi_nlword+1;
.
@vis 4@wq" $VI -e 'vi.c'
